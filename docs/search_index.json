[
["index.html", "Intro to R Workshop Book Chapter 1 Overview and Introduction", " Intro to R Workshop Book Shaun Jackson, Marissa Chemotti 7/3/2019 Chapter 1 Overview and Introduction The aim of this workshop is to get you up and running with R as quick as possible by teaching you how to connect the most important R constructs through hands-on examples. One of the toughest parts about learning a programming language is feeling overwhelmed by the abundance of material to learn. By giving you an overview of the most useful functions, in the lens of close-to-real-world artificial datasets, we hope that you can apply these concepts to your own data. As with everything else, the best way to learn R is through consistent practice with a real world project. "],
["introduction-and-data-exploration.html", "Chapter 2 Introduction and Data Exploration 2.1 Goals 2.2 Datatypes 2.3 Reading in Data 2.4 Writing Data 2.5 Subsetting Data 2.6 Filtering a dataframe: Subsetting part 2 2.7 Functions to explore data 2.8 Assignment: adosm2 dataset", " Chapter 2 Introduction and Data Exploration 2.1 Goals By the end of this document, you will be able to: Learn about the fundamental R Datatypes Read a CSV file into your R environment Write from your R environment to a CSV file Explore different attributes of a dataframe column names row names more with attributes() Subset a dataframe by rows and columns Filter a dataframe by the values of a column Use two data exploration and cleaning functions Frequency counts of unique values with table() Search for any duplicates within your data with duplicated() In this section, we introduce to you the Fundamental R Datatypes, Data input and data output, as well as some useful data exploration functions. 2.2 Datatypes 2.2.1 Numeric, Logical, Character, Factor 2.2.2 Lists, Vectors, Matrices 2.2.3 Dataframes 2.3 Reading in Data 2.3.1 Read CSV Files store the filepath within a character variable the filepath could be relative to your working directory, or absolute read.csv is a function that could read CSV files into your R environment # define relative filepath pathToAdosFile &lt;- &#39;./datasets/adosm1.csv&#39; # Use read.csv() and filepath variable as first argument to function adosm1 &lt;- read.csv(pathToAdosFile, stringsAsFactors = FALSE) # stringsAsFactors is an optional argument that tells read.csv to # not turn a string column into a R factor variable # adosm1 is now considered a datraframe 2.4 Writing Data 2.4.1 write.csv We can write data from our R environment to a CSV file with write.csv write.csv takes in a dataframe within our R environment, as the first parameter the second parameter is the location and filename to write it to. # write.csv(adosm1, &#39;datasets/practice write csv ados.csv&#39;, row.names = FALSE) 2.4.2 data.table::fwrite() One you are comfortable with write.csv, I would suggest looking into the fwrite function within data.table. It is much much faster and more efficient. 2.5 Subsetting Data 2.5.1 Subset by columns In our case, adosm1 is within our R environment, so we would call adosm1[namesOfRows, namesOfColumns] Note: it is best practice to access columns by their names, not their numbers # To access the id column, we would write adosm1[, &quot;id&quot;] # To access id and visit adosm1[, c(&quot;id&quot;, &quot;visit&quot;)] # in order to make code less verbose, when accessing one column, we use # the $ operator # to access the id column adosm1$id 2.5.2 Subset by rows We could similarly access rows by rownames or row numbers adosm1[c(1, 2, 5), ] # access 1st, 2nd, and 5th rows adosm1[c(1, 2, 5), ] 2.5.3 Subset by rows and columns # access 1st, 2nd, and 5th rows, within id and visit columns adosm1[c(1, 2, 5), c(&quot;id&quot;, &quot;visit&quot;)] 2.6 Filtering a dataframe: Subsetting part 2 2.6.1 Subset with a logical vector What is very powerful in this is we could subset a dataframe in order to answer specific questions This is done by using a logical vector to subset or slice a dataframe 2.6.2 Subset logical vector example # To Filter for all visits at 36 months: # Create logical vector visits36mo &lt;- adosm1$visit == &quot;36&quot; # use our visits36mo logical vector to filter dataframe adosm1[visits36mo, ] # returns a dataframe of all visits at 36mo adosm1[visits36mo, &quot;id&quot;] # returns all the ids with a visit at 36mo # returns alg and version at 36 months adosm1[visits36mo, c(&quot;ados_algorithm&quot;, &quot;ados_version&quot;)] 2.7 Functions to explore data 2.7.1 View() To view your dataframe call the View() function. Note the capital View(). View(adosm1) 2.7.2 See Dataframe attributes display column names names() display rownames with row.names() see all attributes with attributes(dataframe) # display column names # names(dataframe), we will use our adosm1 dataframe # wrap function with head() to show first 5 head(names(adosm1)) ## [1] &quot;id&quot; &quot;visit&quot; &quot;cbe_36&quot; ## [4] &quot;recruitment_group&quot; &quot;gender&quot; &quot;ados_version&quot; # display rownames, wrap function with head() to show first 5 head(row.names(adosm1)) ## [1] &quot;1&quot; &quot;2&quot; &quot;3&quot; &quot;4&quot; &quot;5&quot; &quot;6&quot; 2.7.3 table() # To get a frequency count of all unique values, # we use the table() # table() takes in 1 or more vectors as input # since every dataframe column could be considered a vector (or list) # we could check for every unique visit with freq counts with table(adosm1$visit) ## ## 18 21 24 30 36 ## 462 9 379 38 141 # we could check for every unique combination of vectors by # providing multiple vector inputs # To see every unique combination of visit and ados algorithm table(adosm1$visit, adosm1$ados_algorithm) ## ## few to no words no words some words ## 18 2 158 90 212 ## 21 0 0 7 2 ## 24 3 52 32 292 ## 30 0 6 0 32 ## 36 5 4 15 117 2.7.4 Checking for duplicates: duplicated() We will first generate a dataframe that has duplicates, to show how to detect duplicates by different subgroups dupDf &lt;- data.frame(id = c(1, 1, 2, 2, 3, 3), visit = c(&#39;10 months&#39;, &#39;20 months&#39;, &#39;10 months&#39;, &#39;10 months&#39;, &#39;20 months&#39;, &#39;20 months&#39;), item1 = c(1, 2, 3, 3, 5, 6)) The duplicated function returns a logical vector of the duplicates that exist in a dataframe. The TRUE values represent the index locations of where a duplicate row was found. We could use this logical vector to see where a duplicate exists duplicateIndices &lt;- duplicated(dupDf) # store dup vector in variable duplicateIndices # view logical vector of duplicates ## [1] FALSE FALSE FALSE TRUE FALSE FALSE dupDf[duplicateIndices, ] ## id visit item1 ## 4 2 10 months 3 2.7.5 Duplicated() by key variables: id and visit we could check for duplicates by columns that should represent a unique combination. in this example: id and visit # to check duplicates by groups dupIndGrouped &lt;- duplicated(dupDf[, c(&quot;id&quot;, &quot;visit&quot;)]) dupDf[dupIndGrouped, ] ## id visit item1 ## 4 2 10 months 3 ## 6 3 20 months 6 2.8 Assignment: adosm2 dataset 2.8.1 Instructions Read in the adosm2.csv file What is the frequency count for every unique visit? What are the ids that exist for the 30 month visit? Are there duplicates by id and visit? What is the frequency count of duplicates vs non-duplicates? 2.8.2 Solution # 1. Read in the adosm2.csv file adosm2Path &lt;- &#39;./datasets/adosm2.csv&#39; adosm2 &lt;- read.csv(adosm2Path, stringsAsFactors = FALSE) # 2. What is the frequency count for every unique visit? table(adosm2$visit) ## ## 24 30 36 School-Age ## 53 13 473 8 # 3, What are the ids that exist for the 30 month visit? adosm2[adosm2$visit == &quot;30&quot;, &quot;id&quot;] ## [1] 2 45 62 111 119 132 139 258 261 272 305 486 497 # This works too- adosm2$id[adosm2$visit == &quot;30&quot;] # 4. Are there duplicates by id and visit? any(duplicated(adosm2[, c(&quot;id&quot;, &quot;visit&quot;)])) ## [1] FALSE # 5. What are the frequency count of duplicates vs non-duplicates table(duplicated(adosm2)) ## ## FALSE ## 547 "],
["data-analysis.html", "Chapter 3 Data Analysis 3.1 Read in Data 3.2 Basic Stats functions 3.3 Linear Regression 3.4 Logistic Regression 3.5 Mixed Effects Models 3.6 Data Visualization with ggplot 3.7 More Resources", " Chapter 3 Data Analysis 3.1 Read in Data Our input data will be a scored version of the artificial ADOS dataset with some fake columns to demonstrate how to use R to perform specific data analyses. 3.2 Basic Stats functions 3.2.1 Mean, Median, Standard Deviation, Summary mean(adosm2$ados_sarb_total, na.rm = TRUE) ## [1] 3.488117 median(adosm2$ados_sarb_total, na.rm = TRUE) ## [1] 3 sd(adosm2$ados_sarb_total, na.rm = TRUE) ## [1] 3.02392 summary(adosm2$ados_sarb_total) ## Min. 1st Qu. Median Mean 3rd Qu. Max. ## 0.000 1.500 3.000 3.488 4.000 19.000 3.3 Linear Regression 3.3.1 Correlation Find correlation between two vars cor.test(adosm2$ados_fake_score1, adosm2$ados_fake_lin_outcome) ## ## Pearson&#39;s product-moment correlation ## ## data: adosm2$ados_fake_score1 and adosm2$ados_fake_lin_outcome ## t = -22.232, df = 545, p-value &lt; 2.2e-16 ## alternative hypothesis: true correlation is not equal to 0 ## 95 percent confidence interval: ## -0.7311983 -0.6429767 ## sample estimates: ## cor ## -0.6896378 3.3.2 Creating a Linear Regression Model We use the lm() functionn to create a Linear Regression Model The first parameter takes in an equation of the form: dependentVar ~ predictor1 + predictor2 + ... So the dependentVar is a function of the predictor variables In order to use column names as variables in this eq., the data parameter takes in a dataframe as input. # To demonstrate a linear model, we use fake ados columns within the ados # dataframe linearMod &lt;- lm(ados_fake_lin_outcome ~ ados_fake_score1 + ados_fake_score2, data=adosm2) 3.3.3 Residuals, P-Values, Coefficients, with summary() summary(linearMod) ## ## Call: ## lm(formula = ados_fake_lin_outcome ~ ados_fake_score1 + ados_fake_score2, ## data = adosm2) ## ## Residuals: ## Min 1Q Median 3Q Max ## -2.75987 -0.68070 0.04043 0.65436 3.11995 ## ## Coefficients: ## Estimate Std. Error t value Pr(&gt;|t|) ## (Intercept) 0.01635 0.04233 0.386 0.7 ## ados_fake_score1 -3.04059 0.04225 -71.970 &lt;2e-16 *** ## ados_fake_score2 3.01164 0.04292 70.176 &lt;2e-16 *** ## --- ## Signif. codes: 0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1 ## ## Residual standard error: 0.9894 on 544 degrees of freedom ## Multiple R-squared: 0.9478, Adjusted R-squared: 0.9476 ## F-statistic: 4942 on 2 and 544 DF, p-value: &lt; 2.2e-16 3.3.4 Plotting the Linear Model # create effects object plot(effects::Effect(c(&#39;ados_fake_score1&#39;), linearMod)) plot(effects::Effect(c(&#39;ados_fake_score2&#39;), linearMod)) plot(effects::Effect(c(&#39;ados_fake_score1&#39;, &#39;ados_fake_score2&#39;), linearMod)) 3.4 Logistic Regression adosm2$cbe_asd &lt;- ifelse(adosm2$cbe_36 %in% c(&#39;Autism&#39;, &#39;ASD&#39;), &#39;ASD&#39;, &#39;Non-ASD&#39;) adosm2$cbe_asd &lt;- as.factor(adosm2$cbe_asd) adosm2$cbe_asd &lt;- relevel(adosm2$cbe_asd, ref = &#39;Non-ASD&#39;) mod &lt;- glm(cbe_asd ~ 1 + ados_sarb_total, data = adosm2, family = &#39;binomial&#39;) eff &lt;- effects::Effect(c(&#39;ados_sarb_total&#39;), mod) plot(eff, axes = list( y = list( lab = &#39;CBE of ASD&#39;, ticks = list(at = c(.01, .1, .2, .4, .6, .8, .99)))) ) 3.5 Mixed Effects Models 3.5.1 Mixed Effects Logistic Regression # analyze- logistic regression mixed effects adosm2$cbe_asd &lt;- ifelse(adosm2$cbe_36 %in% c(&#39;Autism&#39;, &#39;ASD&#39;), &#39;ASD&#39;, &#39;Non-ASD&#39;) adosm2$cbe_asd &lt;- as.factor(adosm2$cbe_asd) adosm2$cbe_asd &lt;- relevel(adosm2$cbe_asd, ref = &#39;Non-ASD&#39;) mod &lt;- lme4::glmer(cbe_asd ~ 1 + (1|visit) + ados_sarb_total, data = adosm2, family = &#39;binomial&#39;) eff &lt;- effects::Effect(c(&#39;ados_sarb_total&#39;), mod) plot(eff, axes = list( y = list( lab = &#39;CBE of ASD&#39;, ticks = list(at = c(.01, .1, .2, .4, .6, .8, .99)))) ) 3.6 Data Visualization with ggplot 3.6.1 Plotting points library(ggplot2) ggplot(data = adosm2) + geom_point(mapping = aes(x = ados_fake_lin_outcome, y = ados_sarb_total, color = recruitment_group)) 3.6.2 Plotting with Points and Smooth ggplot(data = adosm2, mapping = aes(x = ados_sarb_total, y = ados_fake_lin_outcome)) + geom_point(mapping = aes(color = recruitment_group)) + geom_smooth() ## `geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39; 3.6.3 Bar Plots 3.6.3.1 Bar plot with Colors ggplot(data = adosm2) + geom_bar(mapping = aes(x = recruitment_group, fill = gender)) 3.6.3.2 Bar plot with separated colors and positions ggplot(data = adosm2) + geom_bar(mapping = aes(x = recruitment_group, fill = gender), position = &quot;dodge&quot;) 3.6.4 Box Plots ggplot(data = adosm2, mapping = aes(x = recruitment_group, y = ados_sarb_total)) + geom_boxplot() 3.7 More Resources "],
["bonus-material-optional.html", "Chapter 4 Bonus Material (Optional) 4.1 String Manipulation 4.2 Programming Constructs 4.3 Vectorization 4.4 Write Clean Code", " Chapter 4 Bonus Material (Optional) 4.1 String Manipulation What are the most useful use cases for string manipulation? Pattern matching: One can easily automate trudging through a dataset by hand, by finding patterns within the character columns in their dataset Data cleaning, Are their some mispelled or case sensitive datasets? How do we group these cases? 4.1.1 Regular Expressions To find patterns within data that has characters within it, we use regular expressions Regular expressions are expressions that allow one to find patterns. To implement a regular expression in R, we can use the grep function to find patterns, or gsub to both find patterns and substitute patterns with another one. 4.1.1.1 grep grep is a function that we will use to find patterns in a vector of strings the first argument will be the regular expression the second argument will be the vector we are searching within stringVecToSearch &lt;- c(&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;bad&#39;, &#39;jab&#39;) regExprPattern &lt;- &#39;a&#39; grep(regExprPattern, stringVecToSearch) # indices of all strings with an &#39;a&#39; ## [1] 1 5 6 # Find patterns that STARTS with a pattern with ^ regExprPattern &lt;- &#39;^b&#39; # in this case, starts with a &#39;b&#39; grep(regExprPattern, stringVecToSearch) ## [1] 2 5 # Find patterns that ENDS with a pattern with $ regExprPattern &lt;- &#39;b$&#39; # in this case, ends with a b grep(regExprPattern, stringVecToSearch) ## [1] 2 6 # If we want to see the values, not the indices of where patterns exist grep(regExprPattern, stringVecToSearch, value=TRUE) ## [1] &quot;b&quot; &quot;jab&quot; 4.1.1.2 Grep Applied to a dataframe # see all columns that STARTS with ados ados_cols &lt;- grep(&#39;^ados&#39;, names(adosm1), value=TRUE) adosm1[, ados_cols] # see all rows that have a an ados algorithm of no words # grep will return row numbers of where a pattern of no words # exists in ados_version no_words_vals &lt;- grep(&#39;no words&#39;, adosm1$ados_version) # use row numbers to filter dataframe adosm1[no_words_vals, ] 4.1.1.3 gsub gsub can be thought of as using grep to find the patterns, but replacing the patterns found with something new. The first argument is the pattern to find The second argument is what to replace with the pattern found The third argument is the vector that holds the pattern to search and replace stringVecToSub &lt;- c(&#39;id&#39;, &#39;visit&#39;, &#39;ad1&#39;, &#39;ad2&#39;, &#39;ad3&#39;, &#39;ad4&#39;) gsub(&#39;ad&#39;, &#39;ados_&#39;, stringVecToSub) ## [1] &quot;id&quot; &quot;visit&quot; &quot;ados_1&quot; &quot;ados_2&quot; &quot;ados_3&quot; &quot;ados_4&quot; 4.1.2 String Concatenation 4.1.2.1 paste 4.1.2.2 paste0 4.1.2.3 sprintf 4.1.3 Rename columns 4.2 Programming Constructs 4.2.1 control statements essentials 4.2.2 if else 4.2.3 for loops 4.3 Vectorization 4.3.1 ifelse() 4.4 Write Clean Code 4.4.1 Max Line Length 4.4.2 Speak through Code 4.4.3 A Comment on Comments "]
]
